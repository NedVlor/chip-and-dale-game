(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1360:function(t,e,i){Promise.resolve().then(i.t.bind(i,3388,23)),Promise.resolve().then(i.bind(i,9634)),Promise.resolve().then(i.t.bind(i,9671,23))},9634:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return Game_client}});var n=i(230),l=i(7437),o=i(2265),s=i(802);function _templateObject(){let t=(0,n._)(['\n  height: 60px;\n  width: 60px;\n  background-image: url("/main-sprite.png");\n  background-repeat: no-repeat;\n  background-size: 1500px;\n  background-position: 0px -316px;\n  position: absolute;\n']);return _templateObject=function(){return t},t}let c=s.ZP.div(_templateObject()),p=[{x:0,y:-316},{x:-60,y:-316},{x:-120,y:-316},{x:-180,y:-316},{x:-240,y:-316},{x:-298,y:-316},{x:-352,y:-316},{x:-407,y:-316},{x:-463,y:-316},{x:-520,y:-316},{x:-582,y:-316},{x:-647,y:-316},{x:-716,y:-316},{x:-778,y:-316},{x:-829,y:-316}],a={run:[5,6,7]},h=(0,o.forwardRef)((t,e)=>{let[i,n]=(0,o.useState)(0),[s,h]=(0,o.useState)(0),[d,g]=(0,o.useState)({});return(0,o.useEffect)(()=>{let e=setInterval(()=>{switch(t.data.action){case"run":h(t=>t+1);break;case"standing":n(0);break;default:alert("This action do not exist")}},100);return()=>clearInterval(e)},[t.data.action]),(0,o.useEffect)(()=>{"run"===t.data.action&&s>a.run.length-1&&h(0)},[s,t.data.action]),(0,o.useEffect)(()=>{n(0),"run"==t.data.action&&n(t=>a.run[s])},[s]),(0,o.useEffect)(()=>{(i||0==i)&&g(t=>({...t,backgroundPosition:"".concat(p[i].x,"px ").concat(p[i].y,"px")}))},[i]),(0,o.useEffect)(()=>{"left"==t.data.direction&&g(t=>({...t,transform:"scaleX(-1)"})),"right"==t.data.direction&&g(t=>({...t,transform:"scaleX(1)"}))},[t.data.direction]),(0,o.useEffect)(()=>{g(e=>({...e,left:t.data.x+"px",top:t.data.y+"px"}))},[t.data.x,t.data.y]),(0,l.jsx)(c,{ref:e,style:d})}),r=()=>(0,o.useRef)(null),d="url(/metal-construction.png)",g="url(/building.jpg)",f="url(/thorn.png)";var u={getSolidList:t=>[{left:0,top:633,width:212,height:67,ref:t(null)},{left:0,top:700,width:408,height:8,ref:t(null)},{left:479,top:700,width:519,height:19,ref:t(null)},{left:1050,top:700,width:519,height:19,ref:t(null)},{left:809,top:583,width:37,height:37,ref:t(null)},{left:0,top:337,width:14,height:356,ref:t(null)},{left:900,top:550,width:521,height:19,ref:t(null)},{left:1630,top:645,width:800,height:155,ref:t(null)},{left:2500,top:617,width:800,height:184,ref:t(null)},{left:3370,top:572,width:800,height:230,ref:t(null)},{left:1300,top:480,width:521,height:19,ref:t(null)},{width:69,height:69,left:661,top:632,ref:t(null)},{width:69,height:69,left:5,top:497,ref:t(null)},{width:69,height:69,left:74,top:566,ref:t(null)},{width:69,height:69,left:1414,top:414,ref:t(null)},{width:69,height:69,left:1688,top:414,ref:t(null)},{width:69,height:69,left:1619,top:349,ref:t(null)},{width:69,height:69,left:1481,top:349,ref:t(null)},{width:69,height:69,left:1548,top:286,ref:t(null)},{width:69,height:69,left:2617,top:553,ref:t(null)},{width:69,height:69,left:2750,top:553,ref:t(null)},{width:69,height:69,left:2887,top:553,ref:t(null)},{width:69,height:69,left:3023,top:553,ref:t(null)},{width:69,height:69,left:2360,top:581,ref:t(null)},{width:69,height:69,left:2360,top:522,ref:t(null)},{width:69,height:69,left:2291,top:581,ref:t(null)},{width:69,height:69,left:1997,top:576,ref:t(null)}],graphicsList:[{type:"img",width:69,left:5,top:632,src:"./box.jpg"},{type:"img",width:69,left:5,top:497,src:"./box.jpg"},{type:"img",width:69,left:5,top:566,src:"./box.jpg"},{type:"img",width:69,left:74,top:632,src:"./box.jpg"},{type:"img",width:69,left:74,top:566,src:"./box.jpg"},{type:"img",width:69,left:143,top:632,src:"./box.jpg"},{type:"img",width:69,left:661,top:632,src:"./box.jpg"},{type:"img",width:69,left:1414,top:414,src:"./box.jpg"},{type:"img",width:69,left:1481,top:414,src:"./box.jpg"},{type:"img",width:69,left:1550,top:414,src:"./box.jpg"},{type:"img",width:69,left:1619,top:414,src:"./box.jpg"},{type:"img",width:69,left:1688,top:414,src:"./box.jpg"},{type:"img",width:69,left:1550,top:349,src:"./box.jpg"},{type:"img",width:69,left:1619,top:349,src:"./box.jpg"},{type:"img",width:69,left:1481,top:349,src:"./box.jpg"},{type:"img",width:69,left:1548,top:286,src:"./box.jpg"},{type:"img",width:69,left:1997,top:576,src:"./box.jpg"},{type:"img",width:69,left:2360,top:581,src:"./box.jpg"},{type:"img",width:69,left:2291,top:581,src:"./box.jpg"},{type:"img",width:69,left:2360,top:522,src:"./box.jpg"},{type:"img",width:69,left:2617,top:553,src:"./box.jpg"},{type:"img",width:69,left:2750,top:553,src:"./box.jpg"},{type:"img",width:69,left:2887,top:553,src:"./box.jpg"},{type:"img",width:69,left:3023,top:553,src:"./box.jpg"},{type:"div",width:521,height:37,left:479,top:700,bg:d},{type:"div",width:521,height:37,left:1050,top:700,bg:d},{type:"div",width:407,height:36,left:1,top:700,bg:d},{type:"div",left:900,top:550,width:519,height:37,bg:d},{type:"div",left:1300,top:480,width:519,height:37,bg:d},{type:"div",left:809,top:583,width:37,height:37,bg:d},{type:"div",w:800,h:155,x:1630,y:645,bg:g},{type:"div",w:800,h:184,x:2500,y:617,bg:g},{type:"div",w:800,h:230,x:3370,y:572,bg:g}],collectable:[{class:"nut",width:35,left:931,top:651,src:"./nut.png"},{class:"nut",width:35,left:606,top:650,src:"./nut.png"},{class:"nut",width:35,left:1659,top:590,src:"./nut.png"},{class:"nut",width:35,left:1740,top:590,src:"./nut.png"},{class:"nut",width:35,left:1821,top:590,src:"./nut.png"},{class:"nut",width:35,left:160,top:578,src:"./nut.png"},{class:"nut",width:35,left:23,top:446,src:"./nut.png"},{class:"nut",width:35,left:529,top:648,src:"./nut.png"},{class:"nut",width:35,left:850,top:651,src:"./nut.png"},{class:"nut",width:35,left:934,top:502,src:"./nut.png"},{class:"nut",width:35,left:1015,top:502,src:"./nut.png"},{class:"nut",width:35,left:1096,top:502,src:"./nut.png"},{class:"nut",width:35,left:1177,top:502,src:"./nut.png"},{class:"nut",width:35,left:1258,top:502,src:"./nut.png"},{class:"nut",width:35,left:1015,top:502,src:"./nut.png"},{class:"nut",width:35,left:1051,top:593,src:"./nut.png"},{class:"nut",width:35,left:1132,top:593,src:"./nut.png"},{class:"nut",width:35,left:1213,top:593,src:"./nut.png"},{class:"nut",width:35,left:1294,top:593,src:"./nut.png"},{class:"nut",width:35,left:1375,top:593,src:"./nut.png"},{class:"nut",width:35,left:1361,top:437,src:"./nut.png"},{class:"nut",width:35,left:1436,top:369,src:"./nut.png"},{class:"nut",width:35,left:1500,top:303,src:"./nut.png"},{class:"nut",width:35,left:1569,top:239,src:"./nut.png"},{class:"nut",width:35,left:1636,top:299,src:"./nut.png"},{class:"nut",width:35,left:1706,top:365,src:"./nut.png"},{class:"nut",width:35,left:1770,top:431,src:"./nut.png"},{class:"nut",width:35,left:2012,top:525,src:"./nut.png"},{class:"nut",width:35,left:2235,top:598,src:"./nut.png"},{class:"nut",width:35,left:2310,top:536,src:"./nut.png"},{class:"nut",width:35,left:2378,top:475,src:"./nut.png"},{class:"nut",width:35,left:2905,top:509,src:"./nut.png"},{class:"nut",width:35,left:2768,top:509,src:"./nut.png"},{class:"nut",width:35,left:2636,top:509,src:"./nut.png"},{class:"nut",width:35,left:3037,top:516,src:"./key.png"}],getHurt:t=>[{c:"acute",w:521,h:10,x:1048,y:689,bg:f,bgs:10,ref:r()},{c:"acute",w:301,h:10,x:1881,y:636,bg:f,bgs:10,ref:r()},{c:"acute",w:70,h:10,x:730,y:689,bg:f,bgs:10,ref:r()},{c:"acute",w:70,h:10,x:210,y:689,bg:f,bgs:10,ref:r()},{c:"acute",w:70,h:10,x:74,y:556,bg:f,bgs:10,ref:r()},{c:"acute",w:70,h:10,x:2683,y:607,bg:f,bgs:10,ref:r()},{c:"acute",w:70,h:10,x:2820,y:607,bg:f,bgs:10,ref:r()},{c:"acute",w:70,h:10,x:2953,y:607,bg:f,bgs:10,ref:r()},{c:"acute",w:120,h:10,x:2498,y:607,bg:f,bgs:10,ref:r()},{c:"acute",w:211,h:10,x:3091,y:607,bg:f,bgs:10,ref:r()},{c:"acute",w:10,h:370,x:0,y:336,bg:f,bgs:10,ref:r()}],level:{condition:"run-to-end",length:3e3,background:"/city.png"},getEnemy:t=>({}),lowGravity:[]};let level_2_r=()=>(0,o.useRef)(null),w="url(/pipa.png)",m="url(/pipe.png)",y="url(/fire.gif)",x="url(/homeless.gif)";var b={getSolidList:t=>[{left:98,top:464,width:154,height:8,ref:t(null)},{left:288,top:422,width:130,height:8,ref:t(null)},{left:866,top:700,width:1e3,height:19,ref:t(null)},{left:0,top:337,width:14,height:356,ref:t(null)},{left:461,top:383,width:116,height:8,ref:t(null)},{left:600,top:344,width:130,height:8,ref:t(null)},{left:763,top:308,width:116,height:8,ref:t(null)},{left:1710,top:308,width:116,height:8,ref:t(null)},{left:1800,top:308,width:116,height:8,ref:t(null)},{left:1226,top:308,width:116,height:8,ref:t(null)},{left:836,top:196,width:401,height:10,ref:t(null)},{left:1337,top:196,width:401,height:10,ref:t(null)},{left:1865,top:635,width:160,height:9,ref:t(null)},{left:2207,top:254,width:162,height:9,ref:t(null)},{left:2066,top:583,width:116,height:8,ref:t(null)},{left:2166,top:520,width:116,height:8,ref:t(null)},{left:2266,top:460,width:116,height:8,ref:t(null)},{left:2366,top:400,width:116,height:8,ref:t(null)},{left:2595,top:499,width:1205,height:8,ref:t(null)},{left:3802,top:438,width:116,height:8,ref:t(null)},{left:3912,top:405,width:87,height:8,ref:t(null)}],graphicsList:[{type:"img",width:194,left:78,top:411,src:"./cloud6.png"},{type:"img",width:168,left:274,top:383,src:"./cloud6.png"},{type:"img",width:147,left:446,top:345,src:"./cloud6.png"},{type:"img",width:165,left:584,top:304,src:"./cloud6.png"},{type:"img",width:148,left:747,top:270,src:"./cloud6.png"},{type:"img",width:148,left:1212,top:270,src:"./cloud6.png"},{type:"img",width:148,left:1695,top:270,src:"./cloud6.png"},{type:"img",width:152,left:1780,top:270,src:"./cloud6.png"},{type:"img",width:156,left:2045,top:546,src:"./cloud6.png"},{type:"img",width:163,left:2148,top:479,src:"./cloud6.png"},{type:"img",width:172,left:2250,top:416,src:"./cloud6.png"},{type:"img",width:157,left:2349,top:366,src:"./cloud6.png"},{type:"img",width:228,left:1839,top:581,src:"./cloud6.png"},{type:"img",width:148,left:3788,top:402,src:"./cloud6.png"},{type:"img",width:115,left:3897,top:376,src:"./cloud6.png"},{type:"img",width:452,left:813,top:59,src:"./cloud4.png"},{type:"img",width:452,left:1315,top:59,src:"./cloud4.png"},{type:"img",width:202,left:2190,top:198,src:"./cloud4.png"},{type:"img",c:"ani-cloud",width:194,left:50,top:600,src:"./cloud6.png"},{type:"img",c:"ani-cloud-2",width:194,left:100,top:600,src:"./cloud6.png"},{type:"img",c:"ani-cloud-3",width:194,left:150,top:600,src:"./cloud6.png"},{type:"img",width:148,left:866,top:700,src:"./buildingA.jpg"},{type:"img",width:69,left:5,top:632,src:"./box.jpg"},{type:"div",width:1e3,height:31,left:866,top:695,bg:m},{type:"div",width:1e3,height:31,left:2701,top:493,bg:m},{type:"div",w:100,h:155,x:150,y:645,bg:w,bgs:100},{type:"div",w:100,h:155,x:2100,y:645,bg:w,bgs:100},{type:"div",w:100,h:300,x:2600,y:500,bg:w,bgs:100},{type:"div",w:100,h:300,x:3700,y:500,bg:w,bgs:100},{type:"img",c:"ani-cloud",width:194,left:2050,top:600,src:"./cloud6.png"},{type:"img",c:"ani-cloud-2",width:194,left:2100,top:600,src:"./cloud6.png"},{type:"img",c:"ani-cloud-3",width:194,left:2700,top:493,src:"./cloud6.png"}],collectable:[{class:"nut",width:35,left:509,top:317,src:"./nut.png"},{class:"nut",width:35,left:806,top:242,src:"./nut.png"},{class:"nut",width:35,left:1267,top:242,src:"./nut.png"},{class:"nut",width:35,left:1064,top:652,src:"./nut.png"},{class:"nut",width:35,left:1312,top:652,src:"./nut.png"},{class:"nut",width:35,left:1570,top:652,src:"./nut.png"},{class:"nut",width:35,left:1570,top:652,src:"./nut.png"},{class:"nut",width:35,left:2305,top:401,src:"./nut.png"},{class:"nut",width:35,left:2209,top:457,src:"./nut.png"},{class:"nut",width:35,left:2102,top:525,src:"./nut.png"},{class:"nut",width:35,left:1833,top:242,src:"./nut.png"},{class:"nut",width:35,left:1751,top:242,src:"./nut.png"},{class:"nut",width:35,left:2408,top:348,src:"./nut.png"},{class:"nut",width:35,left:2625,top:448,src:"./nut.png"},{class:"nut",width:35,left:2915,top:448,src:"./nut.png"},{class:"nut",width:35,left:3149,top:448,src:"./nut.png"},{class:"nut",width:35,left:3391,top:448,src:"./nut.png"},{class:"nut",width:35,left:3390,top:448,src:"./nut.png"},{class:"nut",width:35,left:3735,top:448,src:"./nut.png"},{class:"nut",width:100,left:3930,top:323,src:"./teleport.gif"}],getHurt:t=>[{c:"fire",w:50,h:10,x:855,y:694,bg:y,bgs:100,ref:level_2_r(),a:180},{c:"fire",w:50,h:10,x:938,y:694,bg:y,bgs:100,ref:level_2_r(),a:180},{c:"fire",w:50,h:10,x:1021,y:694,bg:y,bgs:100,ref:level_2_r(),a:180},{c:"fire",w:50,h:10,x:1104,y:694,bg:y,bgs:100,ref:level_2_r(),a:180},{c:"fire",w:50,h:10,x:1187,y:694,bg:y,bgs:100,ref:level_2_r(),a:180},{c:"fire",w:50,h:10,x:1270,y:694,bg:y,bgs:100,ref:level_2_r(),a:180},{c:"fire",w:50,h:10,x:1353,y:694,bg:y,bgs:100,ref:level_2_r(),a:180},{c:"fire",w:50,h:10,x:1436,y:694,bg:y,bgs:100,ref:level_2_r(),a:180},{c:"fire",w:50,h:10,x:1519,y:694,bg:y,bgs:100,ref:level_2_r(),a:180},{c:"fire",w:50,h:10,x:1602,y:694,bg:y,bgs:100,ref:level_2_r(),a:180},{c:"fire",w:50,h:10,x:1685,y:694,bg:y,bgs:100,ref:level_2_r(),a:180},{c:"fire",w:50,h:10,x:1768,y:694,bg:y,bgs:100,ref:level_2_r(),a:180},{c:"fire",w:50,h:10,x:2700,y:490,bg:y,bgs:100,ref:level_2_r(),a:180},{c:"fire",w:50,h:10,x:2780,y:490,bg:y,bgs:100,ref:level_2_r(),a:180},{c:"fire",w:50,h:10,x:2860,y:490,bg:y,bgs:100,ref:level_2_r(),a:180},{c:"fire",w:50,h:10,x:2940,y:490,bg:y,bgs:100,ref:level_2_r(),a:180},{c:"fire",w:50,h:10,x:3020,y:490,bg:y,bgs:100,ref:level_2_r(),a:180},{c:"fire",w:50,h:10,x:3100,y:490,bg:y,bgs:100,ref:level_2_r(),a:180},{c:"fire",w:50,h:10,x:3180,y:490,bg:y,bgs:100,ref:level_2_r(),a:180},{c:"fire",w:50,h:10,x:3260,y:490,bg:y,bgs:100,ref:level_2_r(),a:180},{c:"fire",w:50,h:10,x:3340,y:490,bg:y,bgs:100,ref:level_2_r(),a:180},{c:"fire",w:50,h:10,x:3420,y:490,bg:y,bgs:100,ref:level_2_r(),a:180},{c:"fire",w:50,h:10,x:3500,y:490,bg:y,bgs:100,ref:level_2_r(),a:180},{c:"",w:50,h:50,x:3646,y:453,bg:x,bgs:50,ref:level_2_r(),a:0},{c:"",w:100,h:100,x:3627,y:407,bg:x,bgs:100,ref:level_2_r(),a:0},{c:"",w:100,h:100,x:2202,y:156,bg:x,bgs:100,ref:level_2_r(),a:0},{c:"",w:100,h:100,x:81,y:368,bg:x,bgs:100,ref:level_2_r(),a:0},{c:"",w:40,h:40,x:125,y:428,bg:x,bgs:40,ref:level_2_r(),a:0},{c:"",w:100,h:100,x:50,y:852,bg:x,bgs:100,ref:level_2_r(),a:0}],level:{condition:"run-to-end",length:3920,background:"/night-city.jpg"},getEnemy:t=>({wasp:{w:50,h:50,x:100,y:100,bg:"/wasp.gif",bgs:"120%",ref:level_2_r()}}),lowGravity:[{from:0,to:270},{from:2e3,to:2250}]};let level_3_r=()=>(0,o.useRef)(null);var v={getSolidList:t=>[{left:98,top:464,width:154,height:8,ref:t(null)},{left:288,top:422,width:130,height:8,ref:t(null)},{left:413,top:700,width:5e3,height:19,ref:t(null)},{left:0,top:337,width:14,height:356,ref:t(null)},{left:1086,top:653,width:75,height:48,ref:t(null)},{left:1e3,top:641,width:52,height:62,ref:t(null)},{left:914,top:641,width:52,height:62,ref:t(null)},{left:828,top:641,width:52,height:62,ref:t(null)},{left:742,top:641,width:52,height:62,ref:t(null)},{left:656,top:641,width:52,height:62,ref:t(null)},{left:570,top:641,width:52,height:62,ref:t(null)},{left:484,top:641,width:52,height:62,ref:t(null)},{left:398,top:641,width:52,height:62,ref:t(null)}],graphicsList:[{type:"img",c:"fsg",width:194,left:2300,top:290,src:"./fireSfereGenerator.gif"},{type:"img",c:"fg",width:194,left:2300,top:300,src:"./FireGenerator.gif"},{type:"img",width:113,left:294,top:421,src:"./dron1.png"},{type:"img",width:113,left:117,top:462,src:"./dron2.png"},{type:"img",width:113,left:388,top:216,src:"./dron2.png"},{type:"img",width:113,left:483,top:216,src:"./dron2.png"},{type:"img",width:113,left:1265,top:462,src:"./dron2.png"},{type:"img",width:113,left:3060,top:462,src:"./dron2.png"},{type:"img",width:113,left:3182,top:462,src:"./dron2.png"},{type:"img",width:113,left:3290,top:462,src:"./dron2.png"},{type:"img",width:52,left:1e3,top:634,src:"./robot1.png"},{type:"img",width:75,left:1086,top:653,src:"./r2.png"},{type:"img",width:52,left:914,top:634,src:"./robot1.png"},{type:"img",width:52,left:828,top:634,src:"./robot1.png"},{type:"img",width:52,left:742,top:634,src:"./robot1.png"},{type:"img",width:52,left:656,top:634,src:"./robot1.png"},{type:"img",width:52,left:570,top:634,src:"./robot1.png"},{type:"img",width:52,left:484,top:634,src:"./robot1.png"},{type:"img",width:52,left:398,top:634,src:"./robot1.png"},{type:"img",width:61,left:352,top:720,src:"./r.png"},{type:"img",width:175,left:3826,top:612,src:"./team.png"},{type:"img",width:5e3,left:413,top:700,src:"./b1.jpg"}],collectable:[{class:"nut",width:35,left:422,top:302,src:"./nut.png"},{class:"nut",width:35,left:520,top:302,src:"./nut.png"},{class:"nut",width:35,left:1008,top:590,src:"./nut.png"},{class:"nut",width:35,left:1008,top:590,src:"./nut.png"},{class:"nut",width:35,left:1186,top:653,src:"./disk.png"},{class:"nut",width:35,left:2382,top:653,src:"./disk.png"},{class:"nut",width:35,left:3756,top:653,src:"./disk.png"},{class:"nut",width:35,left:1134,top:590,src:"./nut.png"},{class:"nut",width:35,left:843,top:590,src:"./nut.png"},{class:"nut",width:35,left:677,top:590,src:"./nut.png"},{class:"nut",width:35,left:477,top:590,src:"./nut.png"},{class:"nut",width:35,left:1301,top:541,src:"./nut.png"},{class:"nut",width:35,left:3100,top:537,src:"./nut.png"},{class:"nut",width:35,left:3222,top:537,src:"./nut.png"},{class:"nut",width:35,left:3329,top:537,src:"./nut.png"},{class:"nut",width:35,left:1618,top:649,src:"./nut.png"},{class:"nut",width:35,left:1711,top:649,src:"./nut.png"},{class:"nut",width:35,left:1810,top:649,src:"./nut.png"}],getHurt:t=>[],level:{condition:"run-to-end",length:3784,background:"/bgs3.png"},getEnemy:t=>({wasp:{w:50,h:50,x:100,y:100,bg:"/wasp.gif",bgs:"120%",ref:level_3_r()}}),lowGravity:[{from:0,to:270},{from:2e3,to:2250}]};let keyboard=t=>{window.keyboardStarred||(window.keyboardStarred=!0,console.log("keyboard connected"),document.addEventListener("keydown",e=>{window.ke||(window.ke=0),window.ke++,e.preventDefault(),"Space"==e.code&&(t(t=>({...t,jump:!!t.onTheGround})),setTimeout(()=>{t(t=>({...t,jump:!1}))},500)),"ArrowRight"==e.key&&t(t=>({...t,vector:"right",direction:"right",action:"run"})),"ArrowLeft"==e.key&&t(t=>({...t,vector:"left",direction:"left",action:"run"}))}),document.addEventListener("keyup",e=>{t(t=>({...t,vector:"",action:"standing"}))}))},scroll_scroll=t=>{if(!t){console.warn("No Chip NODE !!!!!");return}console.log("scroll",new Date);let e=t.getBoundingClientRect();var i=window.innerWidth-300;if(document.querySelector("body"),e.x<300){console.log("logic left-->",e.x-300,e.x,i);var n=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;smoothScrollToHorizontal(document.querySelector("html"),n-300,3e3)}else if(e.x>i){console.log("logic-->",e.x-i,e.x,i);var n=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;smoothScrollToHorizontal(document.querySelector("html"),n+300,3e3)}};function smoothScrollToHorizontal(t,e,i){if(e=Math.round(e),(i=Math.round(i))<0)return Promise.reject("bad duration");if(0===i)return t.scrollLeft=e,Promise.resolve();let n=Date.now(),l=n+i,o=t.scrollLeft,s=e-o,smoothStep=(t,e,i)=>{if(i<=t)return 0;if(i>=e)return 1;let n=(i-t)/(e-t);return n*n*(3-2*n)};return new Promise((i,c)=>{let scrollFrame=()=>{if(t.scrollLeft===e){i();return}let c=Date.now(),p=smoothStep(n,l,c);if(t.scrollLeft=Math.round(o+s*p),c>=l){i();return}window.requestAnimationFrame(scrollFrame)};window.requestAnimationFrame(scrollFrame)})}function GamePanel_client_templateObject(){let t=(0,n._)(["\n  background-color: blue;\n  color: white;\n"]);return GamePanel_client_templateObject=function(){return t},t}function _templateObject1(){let t=(0,n._)(["\n  background-color: rgba(0, 0, 0, 0.54);\n  height: 58px;\nwidth: 504px;\n    position: fixed;\n  top: 0;\n  right: 0;\n  display:flex;\n  padding:0 1rem;\n  justify-content:space-between;\n  align-item:center;\n}\n"]);return _templateObject1=function(){return t},t}s.ZP.button(GamePanel_client_templateObject());let _=s.ZP.div(_templateObject1());var GamePanel_client=function(t){return(0,l.jsxs)(_,{children:[(0,l.jsx)("div",{className:"hearts",style:{display:"flex",alignItems:"center"},children:(()=>{let e=[];for(let i=0;i<t.data.lifeAmount;i++)e.push((0,l.jsx)("img",{src:"./heard.png",style:{width:"2.5rem",marginRight:"1rem"}},i));return e})()}),(0,l.jsx)("meter",{style:{width:"10.5rem"},className:"health",min:"0",max:"100",low:"33",high:"66",optimum:"80",value:t.data.health,children:"at 50/100"})]})};function TimePanel_client_templateObject(){let t=(0,n._)(["\n  background-color: blue;\n  color: white;\n"]);return TimePanel_client_templateObject=function(){return t},t}function TimePanel_client_templateObject1(){let t=(0,n._)(["\n  background-color: rgba(0, 0, 0, 0.54);\n  height: 58px;\nwidth: 10rem;\n    position: fixed;\n  top: 0;\n  right: calc(50vw + 5rem);\n  display:flex;\n  padding:0 1rem;\n  justify-content:center;\n  align-item:center;\n}\n"]);return TimePanel_client_templateObject1=function(){return t},t}s.ZP.button(TimePanel_client_templateObject());let j=s.ZP.div(TimePanel_client_templateObject1());var TimePanel_client=function(t){return(0,l.jsx)(j,{children:(0,l.jsx)("div",{className:"timer",style:{display:"flex",alignItems:"center",fontSize:"2rem",fontWeight:"600"},children:t.data.timer})})};function LevelPanel_client_templateObject(){let t=(0,n._)(["\n  background-color: blue;\n  color: white;\n"]);return LevelPanel_client_templateObject=function(){return t},t}function LevelPanel_client_templateObject1(){let t=(0,n._)(["\n  background-color: rgba(0, 0, 0, 0.54);\n  height: 58px;\nwidth: 10rem;\n    position: fixed;\n  top: 0;\n  left:0;\n  display:flex;\n  padding:0 1rem;\n  justify-content:center;\n  align-item:center;\n}\n"]);return LevelPanel_client_templateObject1=function(){return t},t}s.ZP.button(LevelPanel_client_templateObject());let S=s.ZP.div(LevelPanel_client_templateObject1());var LevelPanel_client=function(t){return(0,l.jsx)(S,{children:(0,l.jsxs)("div",{className:"timer",style:{display:"flex",alignItems:"center",fontSize:"2rem",fontWeight:"600"},children:["Level: ",t.data.level]})})},Collectible_client=function(t){let{col:e,scene:i}=t;return Array.isArray(e)&&e.length?e.map((t,e)=>(0,l.jsxs)("div",{style:{zIndex:"100",width:t.width+"px",position:"absolute",left:t.left+"px",top:t.top+"px"},children:[(0,l.jsx)("img",{className:t.class,src:t.src,style:{width:t.width+"px",position:"absolute",left:0,top:0}},"graphics-"+e),i.isGraphicsInfoShow&&(0,l.jsxs)("span",{style:{position:"absolute",background:"#00000082"},children:["i:",e,", x:",t.left,", y:",t.top,", w:",t.width,", h:",t.height]})]},"colectible-"+e)):null},Graphics_client=function(t){let{graphicsList:e,scene:i}=t;return Array.isArray(e)&&e.length?e.map((t,e)=>{if(i.isGraphicsShow){if("img"==t.type)return(0,l.jsxs)("div",{style:{zIndex:"100",width:(t.width||t.w)+"px",position:"absolute",left:(t.left||t.x)+"px",top:(t.top||t.y)+"px",transform:"rotate(".concat(t.a,"deg)")},children:[(0,l.jsx)("img",{className:t.c,src:t.src,style:{width:(t.width||t.w)+"px",position:"absolute",left:0,top:0}},"graphics-"+e),i.isGraphicsInfoShow&&(0,l.jsxs)("span",{style:{position:"absolute",background:"#00000082"},children:["i:",e,", x:",t.left,", y:",t.top,", w:",t.width,", h:",t.height]})]},"graphics-"+e);if("div"==t.type)return(0,l.jsxs)("div",{style:{zIndex:"100",width:(t.width||t.w)+"px",position:"absolute",left:(t.left||t.x)+"px",top:(t.top||t.y)+"px",transform:"rotate(".concat(t.a,"deg)")},children:[(0,l.jsx)("div",{className:t.c,style:{position:"absolute",left:0,top:0,width:(t.width||t.w)+"px",height:(t.height||t.h)+"px",backgroundImage:t.bg,backgroundSize:t.bgs+"px"}},"graphics-"+e),i.isGraphicsInfoShow&&(0,l.jsxs)("span",{style:{position:"absolute",background:"#00000082"},children:["i:",e,", x:",t.left||t.x,", y:",t.top||t.y,", w:",t.width||t.w,", h:",t.height||t.h]})]},"graphics-"+e)}}):null},Solid_client=function(t){let{list:e,scene:i}=t;return Array.isArray(e)&&e.length?e.map((t,e)=>(0,l.jsxs)("div",{ref:t.ref,style:{position:"absolute",left:t.left+"px",top:t.top+"px",width:t.width+"px",height:t.height+"px",background:i.isSolidShow?"blue":""},children:["i:",e,", x:",t.left,", y:",t.top,", w:",t.width,", h:",t.height]},"collision-"+e)):null},Hurt_client=function(t){let{list:e,scene:i}=t;return Array.isArray(e)&&e.length?e.map((t,e)=>(0,l.jsxs)("div",{ref:t.ref,style:{zIndex:"100",width:(t.width||t.w)+"px",position:"absolute",left:(t.left||t.x)+"px",top:(t.top||t.y)+"px",transform:"rotate(".concat(t.a,"deg)")},children:[(0,l.jsx)("div",{className:t.c,style:{position:"absolute",left:0,top:0,width:(t.width||t.w)+"px",height:(t.height||t.h)+"px",backgroundImage:t.bg,backgroundSize:t.bgs+"px"}},"hurt-"+e),i.isGraphicsInfoShow&&(0,l.jsxs)("span",{style:{position:"absolute",background:"#00000082"},children:["i:",e,", x:",t.left,", y:",t.top,", w:",t.width,", h:",t.height]})]},"hurt-"+e)):null},GameOverScreen_client=function(t){let[e]=(0,o.useState)(new Audio("./sounds/chip-and-dale.mp3"));return(0,o.useEffect)(()=>(e.play().catch(t=>console.error("Ошибка воспроизведения:",t)),()=>{e.pause(),e.currentTime=0}),[e]),(0,l.jsx)("div",{style:{backgroundColor:"rgba(0, 0, 0, 0.54)",height:"100vh",width:"100vw",position:"fixed",top:0,right:0,display:"flex",padding:"0 1rem",justifyContent:"center",alignItem:"center",backdropFilter:"blur(5px)",zIndex:1e4},children:(0,l.jsxs)("div",{className:"timer",style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",fontWeight:"600"},children:[(0,l.jsx)("img",{src:"./game-over.png",style:{width:"80%"}}),(0,l.jsx)("img",{src:"./dale.png",style:{width:"8rem",position:"absolute",left:"10rem",animation:"jump 5s infinite"}}),(0,l.jsx)("img",{src:"./chip.png",style:{width:"8rem",position:"absolute",right:"10rem",animation:"jump 5s infinite"}})]})})},StartScreen_client=function(t){let[e]=(0,o.useState)(new Audio("./sounds/chip-and-dale.mp3"));return(0,l.jsx)("div",{style:{backgroundColor:"rgba(0, 0, 0, 0.54)",height:"100vh",width:"100vw",position:"fixed",top:0,right:0,display:"flex",padding:"0 1rem",justifyContent:"center",alignItem:"center",backdropFilter:"blur(5px)",zIndex:1e4},children:(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"2rem",fontWeight:"600"},children:[(0,l.jsx)("img",{src:"./logo.png",style:{width:"100%"}}),(0,l.jsx)("button",{onClick:function(){t.onStart()},style:{transform:"scale(3)",marginTop:"3rem"},children:"START"}),(0,l.jsx)("img",{src:"./dale.png",style:{width:"8rem",position:"absolute",left:"10rem",animation:"jump 5s infinite"}}),(0,l.jsx)("img",{src:"./chip.png",style:{width:"8rem",position:"absolute",right:"10rem",animation:"jump 5s infinite"}})]})})},WinScreen_client=function(t){let[e]=(0,o.useState)(new Audio("./sounds/chip-and-dale.mp3"));return(0,o.useEffect)(()=>(e.play().catch(t=>console.error("Ошибка воспроизведения:",t)),()=>{e.pause(),e.currentTime=0}),[e]),(0,l.jsx)("div",{style:{backgroundColor:"rgba(0, 0, 0, 0.54)",height:"100vh",width:"100vw",position:"fixed",top:0,right:0,display:"flex",padding:"0 1rem",justifyContent:"center",alignItem:"center",backdropFilter:"blur(5px)",zIndex:1e4},children:(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"2rem",fontWeight:"600"},children:[(0,l.jsx)("img",{src:"./shtorm.gif",style:{width:"100%",borderRadius:"20rem"}}),(0,l.jsx)("button",{onClick:function(){t.onNextLevel()},style:{transform:"scale(3)",marginTop:"3rem"},children:"Next Level"}),(0,l.jsx)("img",{src:"./dale.png",style:{width:"8rem",position:"absolute",left:"10rem",animation:"jump 5s infinite"}}),(0,l.jsx)("img",{src:"./chip.png",style:{width:"8rem",position:"absolute",right:"10rem",animation:"jump 5s infinite"}})]})})},FinishScreen_client=function(t){let[e]=(0,o.useState)(new Audio("./sounds/chip-and-dale.mp3"));return(0,o.useEffect)(()=>(e.play().catch(t=>console.error("Ошибка воспроизведения:",t)),()=>{e.pause(),e.currentTime=0}),[e]),(0,l.jsx)("div",{style:{backgroundColor:"rgba(0, 0, 0, 0.54)",height:"100vh",width:"100vw",position:"fixed",top:0,right:0,display:"flex",padding:"0 1rem",justifyContent:"center",alignItem:"center",backdropFilter:"blur(5px)",zIndex:1e4},children:(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"2rem",fontWeight:"600"},children:[(0,l.jsx)("img",{src:"./finish.png",style:{width:"100%",borderRadius:"20rem"}}),(0,l.jsx)("button",{onClick:function(){t.onPlayAgain()},style:{transform:"scale(3)",marginTop:"3rem"},children:"Play Again"}),(0,l.jsx)("img",{src:"./dale.png",style:{width:"8rem",position:"absolute",left:"10rem",animation:"jump 5s infinite"}}),(0,l.jsx)("img",{src:"./chip.png",style:{width:"8rem",position:"absolute",right:"10rem",animation:"jump 5s infinite"}})]})})};function Game_client_templateObject(){let t=(0,n._)(["\n  height: 800px;\n  width: 4000px;\n  position: relative;\n  color: white;\n"]);return Game_client_templateObject=function(){return t},t}function random(t,e){return t=Math.ceil(t),Math.floor(Math.random()*((e=Math.floor(e))-t+1))+t}let k=u,I=s.ZP.div(Game_client_templateObject());var Game_client=function(){let t=1;1==(t=+localStorage.getItem("level")||1)&&(k=u),2==t&&(k=b),3==t&&(k=v),t>3&&(localStorage.setItem("level",1),location.reload());let[e,i]=(0,o.useState)([...k.collectable]),n=(0,o.useRef)(null),s=k.getSolidList(o.useRef),c=k.getEnemy(o.useRef),[p,a]=(0,o.useState)(k.getEnemy(o.useRef)),d=k.getHurt(o.useRef),g=k.lowGravity,[f,w]=(0,o.useState)({isSolidShow:!1,isGraphicsShow:!0,isGraphicsInfoShow:!1,intersection:!1,lifeAmount:5,health:250,timer:360,isGameOver:!1,isStarted:!1,isWin:!1,isFinish:!1,level:t,isDamage:!1}),[m,y]=(0,o.useState)({x:150,y:150,prevX:400,prevY:200,action:"standing",direction:"left",vector:"",jump:!1,onTheGround:!1,verticalSpeed:10}),[x,_]=(0,o.useState)([]),j={fall:!1},gameOver=()=>{stopLevelMusic(),w(t=>({...t,isGameOver:!0}))},reincarnation=()=>{j.reincarnation||(f.lifeAmount<2&&gameOver(),w(t=>({...t,lifeAmount:t.lifeAmount-1,health:100})),j.reincarnation=!0,setTimeout(()=>{j.reincarnation=!1},1e3))},fall=()=>{j.fall||(reincarnation(),j.fall=!0,setTimeout(()=>{j.fall=!1},1e3))},getChip=()=>{let t=n.current,e=t.getBoundingClientRect(),i={left:e.left+15,top:e.top,bottom:e.bottom,right:e.right-15};return i},checkCollecting=t=>{y(e=>{t={...e};let n={x:Math.round(t.x/70),y:Math.round(t.y/70)};return i(t=>t.filter((t,e)=>{let i={x:Math.round(t.left/70),y:Math.round(t.top/70)};return n.x!==i.x||n.y!==i.y||(w(t=>({...t,health:t.health+30})),!1)})),{...e}})},checkHurt=()=>{f.health<1&&reincarnation();let t=n.current,e=getChip();d.forEach((i,n)=>{let l=i.ref.current;if(l&&t){let t=l.getBoundingClientRect();e.right>t.left&&e.left<t.right&&e.bottom>t.top&&e.top<t.bottom&&w(t=>({...t,health:t.health-1}))}})},S=n.current,checkIntersection=()=>{let e=[],i=!1,n=0,l=0,o=getChip();s.forEach((t,n)=>{let l=t.ref.current;if(l&&S){let t=l.getBoundingClientRect();o.bottom+1<t.top||!(o.right>t.left&&o.left<t.right)?e[n]=!1:e[n]=!0,o.top>t.bottom&&(e[n]=!1),y(e=>(o.bottom>t.top&&o.top<t.bottom&&o.right>t.left&&o.left<t.right&&(i=!0),{...e}))}});let c=e.some(t=>t),setPrevChip=(t,e)=>{window.prev?(window.prev.length>100&&(window.prev=[window.prev.pop(),window.prev.pop()]),window.prev.push({x:t,y:e})):window.prev=[]},getPrevChip=()=>window.prev?window.prev.pop():{x:0,y:0};y(e=>{if(!c&&(n=e.verticalSpeed,e.isLowGravity&&(n=e.verticalSpeed/6)),e.jump&&(n=-e.verticalSpeed),e.x>k.level.length&&"run-to-end"==k.level.condition&&(3==t?(stopLevelMusic(),setTimeout(()=>{w(t=>({...t,isFinish:!0})),stopGameLoops()},1e3)):(y(t=>({...t,x:100})),stopLevelMusic(),setTimeout(()=>{w(t=>({...t,isWin:!0,timer:60})),stopGameLoops()},1e3))),e.y>900)return fall(),{...e,y:0,x:300};if(!i)return setPrevChip(e.x,e.y),"left"==e.vector&&(l=-4),"right"==e.vector&&(l=4),{...e,y:e.y+n,x:e.x+l,onTheGround:c};{let t=getPrevChip()||{x:200,y:0};setTimeout(()=>{y(t=>({...t,verticalSpeed:10}))},150),n=1;let i=!1;return g.forEach(t=>{e.x>t.from&&e.x<t.to&&(i=!0),console.log("isLowGravity",i,e.x,t.from,e.x,t.to),console.log(">>>",g)}),{...e,y:t.y,x:t.x,verticalSpeed:1,isLowGravity:i}}}),w(t=>({...t,intersection:i}))};function start(){stopGameLoops(),window.interval=setInterval(()=>{checkIntersection()},50),window.interval2=setInterval(()=>{checkCollecting(m),checkHurt()},200),window.interval3=setInterval(()=>{w(t=>(t.timer<1&&gameOver(),{...t,timer:t.timer-1})),scroll_scroll(S)},1e3),c.wasp&&!f.isGameOver&&(window.waspOnterval=setInterval(()=>{a(t=>{let e=t.wasp,i=e.x-m.x,n=e.y-m.y;return i<0?e.x=e.x+20:e.x=e.x-20,n<0?e.y=e.y+20:e.y=e.y-20,50>Math.abs(i)&&50>Math.abs(n)&&(w(t=>({...t,health:t.health-10,isDamage:!0})),f.health<1&&reincarnation(),setTimeout(()=>{w(t=>({...t,isDamage:!1}))},1e3)),{...t,wasp:e}})},1e3)),3==t&&(window.firebolls=setInterval(()=>{_(t=>{let e=t.map(t=>"left"==t.vector?{x:t.x-200+random(0,100),y:t.y+random(-300,300),vector:t.vector}:{x:t.x+200+random(0,100),y:t.y+random(-300,300),vector:t.vector}),i=e.filter(t=>t.x>0);i.forEach(t=>{let e=Math.round(t.x/50),i=Math.round(t.y/400),n=Math.round(m.x/50),l=Math.round(m.y/400);e==n&&i==l&&(console.warn("damage"),w(t=>({...t,health:t.health-90})))});let n=!!random(-1,1),l=m.x<2378?"left":"right";return n?[...i,{x:2378,y:300,vector:l}]:i})},300)),window.gamedStarred||(window.gamedStarred=!0,i(t=>[...k.collectable]),keyboard(y),window.audio=new Audio("./sounds/level-1-music.mp3"),window.audio.play().catch(t=>console.error("Ошибка воспроизведения:",t)),w(t=>({...t,isStarted:!0})))}function stopLevelMusic(){window.audio.pause(),window.audio.currentTime=0}function stopGameLoops(){clearInterval(window.interval),clearInterval(window.interval2),clearInterval(window.interval3),clearInterval(window.waspOnterval),clearInterval(window.firebolls)}return(0,o.useEffect)(()=>(f.isStarted&&start(),()=>{stopGameLoops()}),[m.vector,f.timer]),(0,o.useEffect)(()=>{keyboard(y)},[]),(0,l.jsxs)(I,{style:{backgroundImage:"url(".concat(k.level.background,")")},children:[f.isGameOver&&(0,l.jsx)(GameOverScreen_client,{data:f}),!f.isStarted&&(0,l.jsx)(StartScreen_client,{data:f,onStart:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,setTimeout(()=>{start()},500)}}),f.isWin&&(0,l.jsx)(WinScreen_client,{data:f,onNextLevel:function(){let t=f.level;t++,localStorage.setItem("level",t),location.reload()}}),f.isFinish&&(0,l.jsx)(FinishScreen_client,{data:f,onPlayAgain:function(){let t=f.level;t=1,localStorage.setItem("level",t),location.reload()}}),f.isDamage&&(0,l.jsx)("div",{style:{position:"fixed",zIndex:1e4,width:"100vw",height:"100vh",left:0,top:0,backgroundColor:"#ff00006b"}}),(0,l.jsx)(GamePanel_client,{data:f}),(0,l.jsx)(TimePanel_client,{data:f}),(0,l.jsx)(LevelPanel_client,{data:f}),(0,l.jsx)(h,{ref:n,data:m,style:{position:"absolute",left:"200px",top:"300px",width:"100px",height:"19px",background:"red"}}),(0,l.jsx)(Solid_client,{list:s,scene:f}),(0,l.jsx)(Hurt_client,{list:d,scene:f}),(0,l.jsx)(Collectible_client,{col:e,scene:f}),(0,l.jsx)(Graphics_client,{graphicsList:k.graphicsList,scene:f}),p.wasp&&(0,l.jsx)("div",{style:{position:"absolute",zIndex:1e3,top:"".concat(p.wasp.y,"px"),left:"".concat(p.wasp.x,"px"),width:"".concat(p.wasp.w,"px"),height:"".concat(p.wasp.h,"px"),backgroundImage:"url(".concat(p.wasp.bg,")"),backgroundSize:"".concat(p.wasp.bgs),backgroundPosition:"103% 77%",transition:"1s"}}),x.map((t,e)=>(0,l.jsx)("img",{className:"vibration",src:"Fireball.webp",style:{position:"absolute",zIndex:1e3,top:t.y+"px",left:t.x+"px",width:"50px",transition:"1s"}},"fb-"+e))]})}},9671:function(t){t.exports={main:"page_main__GlU4n"}}},function(t){t.O(0,[675,971,864,744],function(){return t(t.s=1360)}),_N_E=t.O()}]);